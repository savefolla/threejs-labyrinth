(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(i,e,t){i.exports=t(19)},17:function(i,e,t){},19:function(i,e,t){"use strict";t.r(e);var n=t(2),o=t.n(n),a=t(4),s=t.n(a),r=(t(17),t(5)),c=t(6),h=t(10),d=t(7),u=t(9),l=t(0),p=t(1),b=function(i,e){return Math.floor(Math.random()*(e-i+1))+i},v=t(8),w=function(i){function e(i){var t;return Object(r.a)(this,e),(t=Object(h.a)(this,Object(d.a)(e).call(this,i))).myRef=o.a.createRef(),t.fieldWidth=100,t.scene=void 0,t.camera=void 0,t.renderer=void 0,t.cones=[],t.cylinders=[],t.light=void 0,t.plane=void 0,t.group=void 0,t.pivot=void 0,t.bounceAnimation=void 0,t.animate=t.animate.bind(Object(l.a)(Object(l.a)(t))),t.init=t.init.bind(Object(l.a)(Object(l.a)(t))),t.onKeyPress=t.onKeyPress.bind(Object(l.a)(Object(l.a)(t))),t.onKeyDown=t.onKeyDown.bind(Object(l.a)(Object(l.a)(t))),t.onKeyUp=t.onKeyUp.bind(Object(l.a)(Object(l.a)(t))),t.initListeners=t.initListeners.bind(Object(l.a)(Object(l.a)(t))),t.initScene=t.initScene.bind(Object(l.a)(Object(l.a)(t))),t.initCamera=t.initCamera.bind(Object(l.a)(Object(l.a)(t))),t.initRenderer=t.initRenderer.bind(Object(l.a)(Object(l.a)(t))),t.initTrees=t.initTrees.bind(Object(l.a)(Object(l.a)(t))),t.initLight=t.initLight.bind(Object(l.a)(Object(l.a)(t))),t.initPlane=t.initPlane.bind(Object(l.a)(Object(l.a)(t))),t.initGroup=t.initGroup.bind(Object(l.a)(Object(l.a)(t))),t.initPivot=t.initPivot.bind(Object(l.a)(Object(l.a)(t))),t.initBounceAnimation=t.initBounceAnimation.bind(Object(l.a)(Object(l.a)(t))),t}return Object(u.a)(e,i),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.init(),this.animate()}},{key:"init",value:function(){this.initListeners(),this.initScene(),this.initCamera(),this.initRenderer(),this.initTrees(),this.initLight(),this.initPlane(),this.initGroup(),this.initPivot(),this.initBounceAnimation()}},{key:"initListeners",value:function(){document.addEventListener("keypress",this.onKeyPress),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}},{key:"initScene",value:function(){this.scene=new p.k;var i=new p.a(0);this.scene.background=i,this.scene.fog=new p.d(i,.0025,20)}},{key:"initCamera",value:function(){this.camera=new p.i(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.y=2,this.camera.position.z=3}},{key:"initRenderer",value:function(){this.renderer=new p.m,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=p.h,this.renderer.setSize(window.innerWidth,window.innerHeight),this.myRef.current.appendChild(this.renderer.domElement)}},{key:"initTrees",value:function(){for(var i=new p.c(.3,.3,2,10),e=new p.f({color:4989443,shininess:0}),t=new p.b(1,10,32),n=new p.f({color:2910224,shininess:0}),o=0;o<5*this.fieldWidth;++o){var a={x:b(-this.fieldWidth/2,this.fieldWidth/2),z:b(-this.fieldWidth/2,this.fieldWidth/2)},s=new p.e(t,n),r=new p.e(i,e);s.position.x=a.x,s.position.z=a.z,s.position.y=6,r.position.x=a.x,r.position.z=a.z,s.castShadow=!0,this.cones.push(s),this.cylinders.push(r),this.scene.add(s),this.scene.add(r)}}},{key:"initLight",value:function(){this.light=new p.l(16777215,1,20,8,1),this.light.position.set(this.camera.position.x,this.camera.position.y,this.camera.position.z-2),this.light.castShadow=!0,this.scene.add(this.light)}},{key:"initPlane",value:function(){var i=new p.j(this.fieldWidth,this.fieldWidth,1,1),e=new p.f({color:3074,shininess:200});this.plane=new p.e(i,e),this.plane.rotation.x=-Math.PI/2,this.plane.receiveShadow=!0,this.scene.add(this.plane)}},{key:"initGroup",value:function(){var i=this;this.group=new p.g,this.group.add(this.plane),this.cones.forEach(function(e){return i.group.add(e)}),this.cylinders.forEach(function(e){return i.group.add(e)}),this.scene.add(this.group)}},{key:"initPivot",value:function(){this.pivot=new p.g,this.pivot.add(this.group),this.scene.add(this.pivot)}},{key:"initBounceAnimation",value:function(){this.bounceAnimation=Object(v.a)({targets:this.camera.position,y:2.2,duration:1200,direction:"alternate",easing:"linear",loop:!0}),this.bounceAnimation.pause()}},{key:"onKeyPress",value:function(i){switch(i.key){case"w":this.forward();break;case"a":this.rotate("left");break;case"d":this.rotate("right")}}},{key:"onKeyUp",value:function(i){switch(i.key){case"w":this.bounceAnimation.pause()}}},{key:"onKeyDown",value:function(i){switch(i.key){case"w":this.bounceAnimation.play()}}},{key:"forward",value:function(){this.group.position.x-=.01*Math.sin(this.pivot.rotation.y),this.group.position.z+=.01*Math.cos(this.pivot.rotation.y)}},{key:"rotate",value:function(i){"right"===i&&(this.pivot.rotation.y+=.01),"left"===i&&(this.pivot.rotation.y-=.01)}},{key:"animate",value:function(){requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){return o.a.createElement("div",{ref:this.myRef})}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(i){i.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.dd9e3096.chunk.js.map